<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Precision and Required Sample Size — incprecision • inctools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Precision and Required Sample Size — incprecision" />
<meta property="og:description" content="Calculate precision of incidence estimate and required sample size for a
given precision of the incidence estimate." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inctools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/EstimatingIncidence.html">Estimating incidence from cross-sectional data</a>
    </li>
    <li>
      <a href="../articles/Introduction.html">Overview of Incidence Estimation Package *inctools*</a>
    </li>
    <li>
      <a href="../articles/SurveyDesign.html">Survey design: power, precision and sample size</a>
    </li>
    <li>
      <a href="../articles/TestCalibration.html">Recent infection test calibration</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SACEMA/inctools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Precision and Required Sample Size</h1>
    <small class="dont-index">Source: <a href='https://github.com/SACEMA/inctools/blob/master/R/precision.R'><code>R/precision.R</code></a></small>
    <div class="hidden name"><code>incprecision.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate precision of incidence estimate and required sample size for a
given precision of the incidence estimate.</p>
    </div>

    <pre class="usage"><span class='fu'>incprecision</span><span class='op'>(</span>
  <span class='va'>I</span>,
  <span class='va'>RSE_I</span>,
  <span class='va'>PrevH</span>,
  <span class='va'>CR</span>,
  <span class='va'>MDRI</span>,
  <span class='va'>RSE_MDRI</span>,
  <span class='va'>FRR</span>,
  <span class='va'>RSE_FRR</span>,
  BigT <span class='op'>=</span> <span class='fl'>730</span>,
  DE_H <span class='op'>=</span> <span class='fl'>1</span>,
  DE_R <span class='op'>=</span> <span class='fl'>1</span>,
  n <span class='op'>=</span> <span class='st'>"out"</span>,
  step <span class='op'>=</span> <span class='fl'>5</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>I</th>
      <td><p>Expected Incidence.</p></td>
    </tr>
    <tr>
      <th>RSE_I</th>
      <td><p>Relative Standard Error of Incidence Estimate. If this is the desired output, set to "out".</p></td>
    </tr>
    <tr>
      <th>PrevH</th>
      <td><p>Prevalence of HIV.</p></td>
    </tr>
    <tr>
      <th>CR</th>
      <td><p>Coverage rate: probability (0-1) of being tested for recency when positive for HIV.</p></td>
    </tr>
    <tr>
      <th>MDRI</th>
      <td><p>mean duration of recent infection in days (vector/integer).</p></td>
    </tr>
    <tr>
      <th>RSE_MDRI</th>
      <td><p>Relative standard error of MDRI (vector/integer).</p></td>
    </tr>
    <tr>
      <th>FRR</th>
      <td><p>False recent rate (vector/integer).</p></td>
    </tr>
    <tr>
      <th>RSE_FRR</th>
      <td><p>Relative standard error of FRR (vector/integer).</p></td>
    </tr>
    <tr>
      <th>BigT</th>
      <td><p>post-infection time cut-off for true vs. false recency. Default is 730 days.</p></td>
    </tr>
    <tr>
      <th>DE_H</th>
      <td><p>Design effect of HIV prevalence test (vector/integer).</p></td>
    </tr>
    <tr>
      <th>DE_R</th>
      <td><p>Design effect of recency test (vector/integer).</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Sample Size: Set to a hypothetical value if the desired output is RSE_I, othewise set to "out" to obtain required sample size.</p></td>
    </tr>
    <tr>
      <th>step</th>
      <td><p>number of steps between minimum I and maximum I in the calculation of a range of output.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Either sample size necessary for a given precision under a given set of testing characteristics and a hypothetical prevalence/incidence scenario, or precision under a particular sample size scenario, with a given hypothetical prevalence/incidence scenario.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The package contains long form documentation in the form of vignettes that cover the use of the main fucntions. Use browseVignettes(package="inctools") to access them.</p>
<p>This function summarizes performance of a recent infection test into a standard error of the incidence estimate, given the
estimated test properties and hypothetical survey context or the sample size necessary for a given level of precision.</p>
<p>Up to two arguments can be specified as ranges, with the input parameter `step` specifying the number of increments
between the endpoints of the two ranges supplied under the argument name. This yields output for each step.
See the second and third example below
for an illustration of this output.</p>
<p>Either the argument RSE_I or the argument n must be set to "out".</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>incprecision</span><span class='op'>(</span>I <span class='op'>=</span> <span class='fl'>0.015</span>, RSE_I <span class='op'>=</span> <span class='fl'>0.25</span>, PrevH <span class='op'>=</span> <span class='fl'>0.2</span>, CR <span class='op'>=</span> <span class='fl'>1</span>,
MDRI <span class='op'>=</span> <span class='fl'>200</span>, RSE_MDRI <span class='op'>=</span> <span class='fl'>0.05</span>, FRR <span class='op'>=</span> <span class='fl'>0.01</span>, RSE_FRR <span class='op'>=</span> <span class='fl'>0.2</span>,
BigT <span class='op'>=</span> <span class='fl'>730</span>, DE_H <span class='op'>=</span> <span class='fl'>1.1</span>, DE_R <span class='op'>=</span> <span class='fl'>1</span>, n <span class='op'>=</span> <span class='st'>'out'</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $sample.size
#&gt; [1] 3634
#&gt; 
#&gt; $Prev.HIV.and.recent
#&gt; [1] 0.00833
#&gt; 
#&gt; $Prev.HIV.and.nonrecent
#&gt; [1] 0.19167
#&gt; 
#&gt; $RSE.I.inf.sample
#&gt; [1] 0.07606
#&gt; 
#&gt; $RSE.PrevH
#&gt; [1] 0.0348
#&gt; 
#&gt; $RSE.PrevR
#&gt; [1] 0.03558
#&gt; </div><div class='input'>
<span class='fu'>incprecision</span><span class='op'>(</span>I <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.015</span>,<span class='fl'>0.02</span><span class='op'>)</span>, RSE_I <span class='op'>=</span> <span class='fl'>0.25</span>, PrevH <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.10</span>,<span class='fl'>0.20</span><span class='op'>)</span>,
CR <span class='op'>=</span> <span class='fl'>1</span>, MDRI <span class='op'>=</span> <span class='fl'>200</span>, RSE_MDRI <span class='op'>=</span> <span class='fl'>0.05</span>, FRR <span class='op'>=</span> <span class='fl'>0.01</span>, RSE_FRR <span class='op'>=</span> <span class='fl'>0.2</span>,
BigT <span class='op'>=</span> <span class='fl'>700</span>, DE_H <span class='op'>=</span> <span class='fl'>1</span>, DE_R <span class='op'>=</span> <span class='fl'>1</span>, n <span class='op'>=</span> <span class='st'>'out'</span>, step <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $sample.size
#&gt;             PrevH = 0.1 PrevH = 0.125 PrevH = 0.15 PrevH = 0.175 PrevH = 0.2
#&gt; I = 0.015          2660          2660         2660          2660        2660
#&gt; I = 0.01625        2596          2596         2596          2596        2596
#&gt; I = 0.0175         2547          2547         2547          2547        2547
#&gt; I = 0.01875        2512          2512         2512          2512        2512
#&gt; I = 0.02           2489          2489         2489          2489        2489
#&gt; 
#&gt; $Prev.HIV.and.recent
#&gt;             PrevH = 0.1 PrevH = 0.125 PrevH = 0.15 PrevH = 0.175 PrevH = 0.2
#&gt; I = 0.015       0.00813       0.00813      0.00813       0.00813     0.00813
#&gt; I = 0.01625     0.00876       0.00876      0.00876       0.00876     0.00876
#&gt; I = 0.0175      0.00936       0.00936      0.00936       0.00936     0.00936
#&gt; I = 0.01875     0.00992       0.00992      0.00992       0.00992     0.00992
#&gt; I = 0.02        0.01045       0.01045      0.01045       0.01045     0.01045
#&gt; 
#&gt; $Prev.HIV.and.nonrecent
#&gt;             PrevH = 0.1 PrevH = 0.125 PrevH = 0.15 PrevH = 0.175 PrevH = 0.2
#&gt; I = 0.015       0.09187       0.09187      0.09187       0.09187     0.09187
#&gt; I = 0.01625     0.11624       0.11624      0.11624       0.11624     0.11624
#&gt; I = 0.0175      0.14064       0.14064      0.14064       0.14064     0.14064
#&gt; I = 0.01875     0.16508       0.16508      0.16508       0.16508     0.16508
#&gt; I = 0.02        0.18955       0.18955      0.18955       0.18955     0.18955
#&gt; 
#&gt; $RSE.I.inf.sample
#&gt;             PrevH = 0.1 PrevH = 0.125 PrevH = 0.15 PrevH = 0.175 PrevH = 0.2
#&gt; I = 0.015       0.05583       0.05583      0.05583       0.05583     0.05583
#&gt; I = 0.01625     0.05798       0.05798      0.05798       0.05798     0.05798
#&gt; I = 0.0175      0.06033       0.06033      0.06033       0.06033     0.06033
#&gt; I = 0.01875     0.06285       0.06285      0.06285       0.06285     0.06285
#&gt; I = 0.02        0.06549       0.06549      0.06549       0.06549     0.06549
#&gt; 
#&gt; $RSE.PrevH
#&gt;             PrevH = 0.1 PrevH = 0.125 PrevH = 0.15 PrevH = 0.175 PrevH = 0.2
#&gt; I = 0.015       0.05817       0.05817      0.05817       0.05817     0.05817
#&gt; I = 0.01625     0.05193       0.05193      0.05193       0.05193     0.05193
#&gt; I = 0.0175      0.04717       0.04717      0.04717       0.04717     0.04717
#&gt; I = 0.01875     0.04332       0.04332      0.04332       0.04332     0.04332
#&gt; I = 0.02        0.04009       0.04009      0.04009       0.04009     0.04009
#&gt; 
#&gt; $RSE.PrevR
#&gt;             PrevH = 0.1 PrevH = 0.125 PrevH = 0.15 PrevH = 0.175 PrevH = 0.2
#&gt; I = 0.015       0.02061       0.02061      0.02061       0.02061     0.02061
#&gt; I = 0.01625     0.02527       0.02527      0.02527       0.02527     0.02527
#&gt; I = 0.0175      0.02975       0.02975      0.02975       0.02975     0.02975
#&gt; I = 0.01875     0.03404       0.03404      0.03404       0.03404     0.03404
#&gt; I = 0.02        0.03817       0.03817      0.03817       0.03817     0.03817
#&gt; </div><div class='input'>
<span class='fu'>incprecision</span><span class='op'>(</span>I <span class='op'>=</span> <span class='fl'>0.017</span>, RSE_I <span class='op'>=</span> <span class='st'>'out'</span>, PrevH <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.10</span>,<span class='fl'>0.20</span><span class='op'>)</span>,
CR <span class='op'>=</span> <span class='fl'>1</span>, MDRI <span class='op'>=</span> <span class='fl'>211</span>, RSE_MDRI <span class='op'>=</span> <span class='fl'>0.05</span>, FRR <span class='op'>=</span> <span class='fl'>0.009</span>, RSE_FRR <span class='op'>=</span> <span class='fl'>0.2</span>,
BigT <span class='op'>=</span> <span class='fl'>720</span>, n <span class='op'>=</span> <span class='fl'>5000</span>, step <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $RSE_I
#&gt;           PrevH   RSE_I
#&gt; 1   PrevH = 0.1 0.16868
#&gt; 2 PrevH = 0.125 0.17352
#&gt; 3  PrevH = 0.15 0.17885
#&gt; 4 PrevH = 0.175 0.18470
#&gt; 5   PrevH = 0.2 0.19112
#&gt; 
#&gt; $Prev.HIV.and.recent
#&gt;           PrevH Prev.HIV.and.recent
#&gt; 1   PrevH = 0.1             0.00947
#&gt; 2 PrevH = 0.125             0.00945
#&gt; 3  PrevH = 0.15             0.00944
#&gt; 4 PrevH = 0.175             0.00943
#&gt; 5   PrevH = 0.2             0.00942
#&gt; 
#&gt; $Prev.HIV.and.nonrecent
#&gt;           PrevH Prev.HIV.and.nonrecent
#&gt; 1   PrevH = 0.1                0.09053
#&gt; 2 PrevH = 0.125                0.11555
#&gt; 3  PrevH = 0.15                0.14056
#&gt; 4 PrevH = 0.175                0.16557
#&gt; 5   PrevH = 0.2                0.19058
#&gt; 
#&gt; $RSE.I.inf.sample
#&gt;           PrevH RSE.I.inf.sample
#&gt; 1   PrevH = 0.1          0.05363
#&gt; 2 PrevH = 0.125          0.05557
#&gt; 3  PrevH = 0.15          0.05824
#&gt; 4 PrevH = 0.175          0.06166
#&gt; 5   PrevH = 0.2          0.06585
#&gt; 
#&gt; $RSE.PrevH
#&gt;           PrevH RSE.PrevH
#&gt; 1   PrevH = 0.1   0.04243
#&gt; 2 PrevH = 0.125   0.03742
#&gt; 3  PrevH = 0.15   0.03367
#&gt; 4 PrevH = 0.175   0.03071
#&gt; 5   PrevH = 0.2   0.02828
#&gt; 
#&gt; $RSE.PrevR
#&gt;           PrevH RSE.PrevR
#&gt; 1   PrevH = 0.1   0.01383
#&gt; 2 PrevH = 0.125   0.01748
#&gt; 3  PrevH = 0.15   0.02113
#&gt; 4 PrevH = 0.175   0.02479
#&gt; 5   PrevH = 0.2   0.02845
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eduard Grebe, Alex Welte, Avery McIntosh, Petra Bäumler, Stefano Ongarello.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


